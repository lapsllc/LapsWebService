{"version":3,"sources":["../../../../server/api/gift/gift.model.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;AAEb,IAAI,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;;AAErE,IAAI,UAAU,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC;AACnC,QAAM,EAAE,EAAC,IAAI,EAAE,MAAM,EAAE,WAAS,CAAC,EAAC;;AAElC,SAAO,EAAE,EAAC,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,SAAS,EAAC;AAC/D,QAAM,EAAE,EAAC,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAC;AAC3D,QAAM,EAAE;AACN,SAAK,EAAE,MAAM;AACb,QAAI,EAAE,EAAC,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAC;GAC1D;;AAED,UAAQ,EAAE,MAAM;CACjB,CAAC,CAAC;;AAEH,UAAU,CAAC,OAAO,GAAG;AACnB,OAAK,EAAE,iBAAY;AACjB,YAAQ,MAAM;AACZ,WAAK,CAAC;AACJ,eAAO,SAAS,CAAC;;AAAA,AAEnB,WAAK,CAAC;AACJ,eAAO,OAAO,CAAC;;AAAA,AAEjB,WAAK,CAAC;AACJ,eAAO,YAAY,CAAC;;AAAA,AAEtB;AACE,eAAO,SAAS,CAAC;AAAA,KACpB;GACF;CACF,CAAC;;qBAEa,QAAQ,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC","file":"gift.model.js","sourcesContent":["'use strict';\n\nvar mongoose = require('bluebird').promisifyAll(require('mongoose'));\n\nvar GiftSchema = new mongoose.Schema({\n  _state: {type: Number, default: 0},\n\n  product: {type: mongoose.Schema.Types.ObjectId, ref: 'Product'},\n  source: {type: mongoose.Schema.Types.ObjectId, ref: 'User'},\n  target: {\n    email: String,\n    user: {type: mongoose.Schema.Types.ObjectId, ref: 'User'}\n  },\n\n  userInfo: String\n});\n\nGiftSchema.methods = {\n  state: function () {\n    switch (_state) {\n      case 0:\n        return 'Pending';\n\n      case 1:\n        return 'Shown';\n\n      case 2:\n        return 'HandedOver';\n\n      default:\n        return 'Unknown';\n    }\n  }\n};\n\nexport default mongoose.model('Gift', GiftSchema);\n"]}